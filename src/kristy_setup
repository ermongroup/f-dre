----
[TOY GMM EXPERIMENTS]
# toy flow
CUDA_VISIBLE_DEVICES=0 python3 main.py --config flows/gmm/perc0.1.yaml --exp_id=gmm_perc0.1 --ni

# what about 1.0?
CUDA_VISIBLE_DEVICES=0 python3 main.py --config flows/gmm/perc1.0.yaml --exp_id=gmm_perc1.0 --ni


# train toy classifier (on x)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp.yaml  --exp_id gmm_perc0.1 --ni

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_perc1.0.yaml  --exp_id gmm_perc1.0 --ni

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_perc1.0.yaml  --exp_id gmm_perc1.0_v2 --ni

-----
# Generate encodings. Make sure perc in --exp_id is same as perc in digits_mnist_subset.yaml
python3 main.py --config flows/gmm/perc0.1.yaml --exp_id encode_gmm_perc0.1 --restore_file=/atlas/u/kechoi/multi-fairgen/src/flows/results/gmm_perc0.1/ --sample --encode_z --ni

python3 main.py --config flows/gmm/perc1.0.yaml --exp_id encode_gmm_perc1.0 --restore_file=/atlas/u/kechoi/multi-fairgen/src/flows/results/gmm_perc1.0/ --sample --encode_z --ni

(i had to rename the data folder from GMM_flow to GMM)
# classify in z-space
CUDA_VISIBLE_DEVICES=1 python3 main.py --classify --config classification/gmm/mlp_z.yaml  --exp_id gmm_z_perc0.1 --ni

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_z_perc1.0.yaml  --exp_id gmm_z_perc1.0 --ni

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_z_perc1.0.yaml  --exp_id gmm_z_perc1.0_v2 --ni

# Generate samples
python3 main.py --config flows/gmm/perc1.0.yaml --exp_id encode_gmm_perc1.0 --restore_file=/atlas/u/kechoi/multi-fairgen/src/flows/results/gmm_perc1.0/ --sample --encode_z --ni



-------
# GAUSSIAN DATASET
(X-SPACE BASELINE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_perc1.0.yaml  --exp_id gmm_perc1.0_v2 --ni


(MY METHOD)
1. train flow
CUDA_VISIBLE_DEVICES=0 python3 main.py --config flows/gmm/perc1.0.yaml --exp_id=gmm_perc1.0 --ni

2. get encodings
python3 main.py --config flows/gmm/perc1.0.yaml --exp_id encode_gmm_perc1.0 --restore_file=/atlas/u/kechoi/multi-fairgen/src/flows/results/gmm_perc1.0/ --sample --encode_z --ni

3. train classifier
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/mlp_z_perc1.0.yaml  --exp_id gmm_z_perc1.0_v2 --ni


# (PURELY DISCRIMINATIVE BASELINE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/flow_mlp_perc1.0.yaml  --exp_id gmm_flow_mlp_perc1.0 --ni


# (JOINT BASELINE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/gmm/joint_flow_mlp_perc1.0.yaml  --exp_id joint_test --ni




----------
[MUTUAL INFORMATION EXPERIMENTS]
1. (JOINT BASELINE) ---- # 3
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/joint_flow_perc1.0.yaml  --exp_id mi_flow_mlp_perc1.0 --ni --mi

(another one with a=0.9?)
CUDA_VISIBLE_DEVICES=1 python3 main.py --classify --config classification/mi/joint_flow_perc1.0_a0.9.yaml  --exp_id mi_flow_mlp_perc1.0_alpha0.9 --ni --mi

CUDA_VISIBLE_DEVICES=1 python3 main.py --classify --config classification/mi/joint_flow_perc1.0_a0.5.yaml  --exp_id mi_flow_mlp_perc1.0_alpha0.5 --ni --mi

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/joint_flow_perc1.0_a0.1.yaml  --exp_id mi_flow_mlp_perc1.0_alpha0.1 --ni --mi

2. (PURELY DISCRIMINATIVE BASELINE) ---- # 1
# TODO: need to incorporate InfoNCE HERE!!!!
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/disc_flow_perc1.0.yaml  --exp_id mi_disc_flow_mlp_perc1.0 --ni --mi

3. (X-SPACE BASELINE) ---- # 2
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/mi_perc1.0.yaml  --exp_id mi_perc1.0 --ni --mi

4. (TRAIN FLOW): TODO NEED TO TRAIN MY FLOW HERE
# (a=0.01)
CUDA_VISIBLE_DEVICES=0 python3 main.py --config flows/mi/perc1.0.yaml --exp_id=mi_flow_perc1.0 --ni

4a. (ENCODE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --config flows/mi/perc1.0.yaml --exp_id encode_mi_perc1.0 --restore_file=/atlas/u/kechoi/multi-fairgen/src/flows/results/mi_flow_perc1.0/ --sample --encode_z --ni

# need to change MI_flow -> MI in data encodings path
---- # 4
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/mlp_z_perc1.0.yaml  --exp_id mi_z_perc1.0 --ni --mi



------
# can we do this for dim=40??
(PURELY DISCRIMINATIVE BASELINE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/disc_flow_d40_perc1.0.yaml  --exp_id mi_disc_d40_perc1.0 --ni --mi

(rho=0.9)
CUDA_VISIBLE_DEVICES=1 python3 main.py --classify --config classification/mi/disc_test.yaml  --exp_id mi_disc_d40_perc1.0_v2 --ni --mi


(JOINT TRAINING)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/joint_flow_d40_a0.1.yaml  --exp_id mi_joint_d40_alpha0.1 --ni --mi

CUDA_VISIBLE_DEVICES=1 python3 main.py --classify --config classification/mi/joint_flow_d40_a0.5.yaml  --exp_id mi_joint_d40_alpha0.5 --ni --mi

CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/joint_flow_d40_a0.9.yaml  --exp_id mi_joint_d40_alpha0.9 --ni --mi

(rho=0.9)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/joint_test.yaml  --exp_id mi_joint_d40_alpha0.9_rho0.9_v2 --ni --mi

(TRAIN FLOW)
CUDA_VISIBLE_DEVICES=1 python3 main.py --config flows/mi/test.yaml --exp_id=mi_flow_perc1.0_v2 --ni

(X BASELINE)
CUDA_VISIBLE_DEVICES=0 python3 main.py --classify --config classification/mi/mi_test.yaml  --exp_id mi_perc1.0_v2 --ni --mi